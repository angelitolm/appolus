{"ast":null,"code":"'use strict'; // Object.defineProperty(exports, \"__esModule\", {\n//     value: true\n// });\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _proptypes = require('prop-types');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _debounce = require('./utils/debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _transformProperty = require('./utils/transformProperty');\n\nvar _transformProperty2 = _interopRequireDefault(_transformProperty);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ReactSiema = function (_Component) {\n  _inherits(ReactSiema, _Component);\n\n  function ReactSiema(props) {\n    _classCallCheck(this, ReactSiema);\n\n    var _this = _possibleConstructorReturn(this, (ReactSiema.__proto__ || Object.getPrototypeOf(ReactSiema)).call(this));\n\n    _this.events = ['onTouchStart', 'onTouchEnd', 'onTouchMove', 'onMouseDown', 'onMouseUp', 'onMouseLeave', 'onMouseMove'];\n    _this.config = Object.assign({}, {\n      resizeDebounce: 250,\n      duration: 200,\n      easing: 'ease-out',\n      perPage: 1,\n      startIndex: 0,\n      draggable: true,\n      threshold: 20,\n      loop: false\n    }, props);\n\n    _this.events.forEach(function (handler) {\n      _this[handler] = _this[handler].bind(_this);\n    });\n\n    return _this;\n  }\n\n  _createClass(ReactSiema, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.config.selector = this.selector;\n      this.currentSlide = this.config.startIndex;\n      this.init();\n      this.onResize = (0, _debounce2.default)(function () {\n        _this2.resize();\n\n        _this2.slideToCurrent();\n      }, this.config.resizeDebounce);\n      window.addEventListener('resize', this.onResize);\n\n      if (this.config.draggable) {\n        this.pointerDown = false;\n        this.drag = {\n          start: 0,\n          end: 0\n        };\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.init();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.onResize);\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this.setSelectorWidth();\n      this.setInnerElements();\n      this.resolveSlidesNumber();\n      this.setStyle(this.sliderFrame, {\n        width: this.selectorWidth / this.perPage * this.innerElements.length + 'px',\n        webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\n        transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\n      });\n\n      for (var i = 0; i < this.innerElements.length; i++) {\n        this.setStyle(this.innerElements[i], {\n          width: 100 / this.innerElements.length + '%'\n        });\n      }\n\n      this.slideToCurrent();\n    }\n  }, {\n    key: 'setSelectorWidth',\n    value: function setSelectorWidth() {\n      this.selectorWidth = this.selector.getBoundingClientRect().width;\n    }\n  }, {\n    key: 'setInnerElements',\n    value: function setInnerElements() {\n      this.innerElements = [].slice.call(this.sliderFrame.children);\n    }\n  }, {\n    key: 'resolveSlidesNumber',\n    value: function resolveSlidesNumber() {\n      if (typeof this.config.perPage === 'number') {\n        this.perPage = this.config.perPage;\n      } else if (_typeof(this.config.perPage) === 'object') {\n        this.perPage = 1;\n\n        for (var viewport in this.config.perPage) {\n          if (window.innerWidth > viewport) {\n            this.perPage = this.config.perPage[viewport];\n          }\n        }\n      }\n    }\n  }, {\n    key: 'prev',\n    value: function prev() {\n      if (this.currentSlide === 0 && this.config.loop) {\n        this.currentSlide = this.innerElements.length - this.perPage;\n      } else {\n        this.currentSlide = Math.max(this.currentSlide - 1, 0);\n      }\n\n      this.slideToCurrent();\n    }\n  }, {\n    key: 'next',\n    value: function next() {\n      if (this.currentSlide === this.innerElements.length - this.perPage && this.config.loop) {\n        this.currentSlide = 0;\n      } else {\n        this.currentSlide = Math.min(this.currentSlide + 1, this.innerElements.length - this.perPage);\n      }\n\n      this.slideToCurrent();\n    }\n  }, {\n    key: 'getPerPage',\n    value: function getPerPage() {\n      return this.perPage;\n    }\n  }, {\n    key: 'goTo',\n    value: function goTo(index) {\n      this.currentSlide = Math.min(Math.max(index, 0), this.innerElements.length - 1);\n      this.slideToCurrent();\n    }\n  }, {\n    key: 'slideToCurrent',\n    value: function slideToCurrent() {\n      this.sliderFrame.style[_transformProperty2.default] = 'translate3d(-' + this.currentSlide * (this.selectorWidth / this.perPage) + 'px, 0, 0)';\n    }\n  }, {\n    key: 'updateAfterDrag',\n    value: function updateAfterDrag() {\n      var movement = this.drag.end - this.drag.start;\n\n      if (movement > 0 && Math.abs(movement) > this.config.threshold) {\n        this.prev();\n      } else if (movement < 0 && Math.abs(movement) > this.config.threshold) {\n        this.next();\n      }\n\n      this.slideToCurrent();\n      this.props.updateAfterDrag();\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      this.resolveSlidesNumber();\n      this.selectorWidth = this.selector.getBoundingClientRect().width;\n      this.setStyle(this.sliderFrame, {\n        width: this.selectorWidth / this.perPage * this.innerElements.length + 'px'\n      });\n      this.props.onResize(this.perPage);\n    }\n  }, {\n    key: 'clearDrag',\n    value: function clearDrag() {\n      this.drag = {\n        start: 0,\n        end: 0\n      };\n    }\n  }, {\n    key: 'setStyle',\n    value: function setStyle(target, styles) {\n      Object.keys(styles).forEach(function (attribute) {\n        target.style[attribute] = styles[attribute];\n      });\n    }\n  }, {\n    key: 'onTouchStart',\n    value: function onTouchStart(e) {\n      e.stopPropagation();\n      this.pointerDown = true;\n      this.drag.start = e.touches[0].pageX;\n    }\n  }, {\n    key: 'onTouchEnd',\n    value: function onTouchEnd(e) {\n      e.stopPropagation();\n      this.pointerDown = false;\n      this.setStyle(this.sliderFrame, {\n        webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\n        transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\n      });\n\n      if (this.drag.end) {\n        this.updateAfterDrag();\n      }\n\n      this.clearDrag();\n    }\n  }, {\n    key: 'onTouchMove',\n    value: function onTouchMove(e) {\n      e.stopPropagation();\n\n      if (this.pointerDown) {\n        this.drag.end = e.touches[0].pageX;\n        this.setStyle(this.sliderFrame, _defineProperty({\n          webkitTransition: 'all 0ms ' + this.config.easing,\n          transition: 'all 0ms ' + this.config.easing\n        }, _transformProperty2.default, 'translate3d(' + (this.currentSlide * (this.selectorWidth / this.perPage) + (this.drag.start - this.drag.end)) * -1 + 'px, 0, 0)'));\n      }\n    }\n  }, {\n    key: 'onMouseDown',\n    value: function onMouseDown(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.pointerDown = true;\n      this.drag.start = e.pageX;\n    }\n  }, {\n    key: 'onMouseUp',\n    value: function onMouseUp(e) {\n      e.stopPropagation();\n      this.pointerDown = false;\n      this.setStyle(this.sliderFrame, {\n        cursor: '-webkit-grab',\n        webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\n        transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\n      });\n\n      if (this.drag.end) {\n        this.updateAfterDrag();\n      }\n\n      this.clearDrag();\n    }\n  }, {\n    key: 'onMouseMove',\n    value: function onMouseMove(e) {\n      e.preventDefault();\n\n      if (this.pointerDown) {\n        this.drag.end = e.pageX;\n        this.setStyle(this.sliderFrame, _defineProperty({\n          cursor: '-webkit-grabbing',\n          webkitTransition: 'all 0ms ' + this.config.easing,\n          transition: 'all 0ms ' + this.config.easing\n        }, _transformProperty2.default, 'translate3d(' + (this.currentSlide * (this.selectorWidth / this.perPage) + (this.drag.start - this.drag.end)) * -1 + 'px, 0, 0)'));\n      }\n    }\n  }, {\n    key: 'onMouseLeave',\n    value: function onMouseLeave(e) {\n      if (this.pointerDown) {\n        this.pointerDown = false;\n        this.drag.end = e.pageX;\n        this.setStyle(this.sliderFrame, {\n          cursor: '-webkit-grab',\n          webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\n          transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\n        });\n        this.updateAfterDrag();\n        this.clearDrag();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement('div', Object.assign({\n        ref: function ref(selector) {\n          return _this3.selector = selector;\n        },\n        className: \"react-siema-container\"\n      }, this.events.reduce(function (props, event) {\n        return Object.assign({}, props, _defineProperty({}, event, _this3[event]));\n      }, {})), _react2.default.createElement('div', {\n        ref: function ref(sliderFrame) {\n          return _this3.sliderFrame = sliderFrame;\n        }\n      }, _react2.default.Children.map(this.props.children, function (children, index) {\n        return _react2.default.cloneElement(children, {\n          key: index,\n          style: {\n            float: 'left'\n          }\n        });\n      })));\n    }\n  }]);\n\n  return ReactSiema;\n}(_react.Component);\n\nReactSiema.propTypes = {\n  resizeDebounce: _proptypes.number,\n  duration: _proptypes.number,\n  easing: _proptypes.string,\n  perPage: _proptypes.object,\n  startIndex: _proptypes.number,\n  draggable: _proptypes.number,\n  threshold: _proptypes.number,\n  loop: _proptypes.bool,\n  children: _proptypes.oneOfType([_proptypes.element, _proptypes.arrayOf(_proptypes.element)])\n};\nexport default ReactSiema;","map":{"version":3,"sources":["/home/angelito/Devs/appolus-master/src/components/ReactSiema/lib/index.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","_react","require","_proptypes","_react2","_interopRequireDefault","_debounce","_debounce2","_transformProperty","_transformProperty2","__esModule","default","_defineProperty","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","ReactSiema","_Component","_this","getPrototypeOf","events","config","assign","resizeDebounce","duration","easing","perPage","startIndex","draggable","threshold","loop","forEach","handler","bind","componentDidMount","_this2","selector","currentSlide","init","onResize","resize","slideToCurrent","window","addEventListener","pointerDown","drag","start","end","componentDidUpdate","componentWillUnmount","removeEventListener","setSelectorWidth","setInnerElements","resolveSlidesNumber","setStyle","sliderFrame","width","selectorWidth","innerElements","webkitTransition","transition","getBoundingClientRect","slice","children","viewport","innerWidth","prev","Math","max","next","min","getPerPage","goTo","index","style","updateAfterDrag","movement","abs","clearDrag","styles","keys","attribute","onTouchStart","e","stopPropagation","touches","pageX","onTouchEnd","onTouchMove","onMouseDown","preventDefault","onMouseUp","cursor","onMouseMove","onMouseLeave","render","_this3","createElement","ref","className","reduce","event","Children","map","cloneElement","float","Component","propTypes","number","string","object","bool","oneOfType","element","arrayOf"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\n// Object.defineProperty(exports, \"__esModule\", {\r\n//     value: true\r\n// });\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\nvar _proptypes = require('prop-types');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _debounce = require('./utils/debounce');\r\n\r\nvar _debounce2 = _interopRequireDefault(_debounce);\r\n\r\nvar _transformProperty = require('./utils/transformProperty');\r\n\r\nvar _transformProperty2 = _interopRequireDefault(_transformProperty);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ReactSiema = function (_Component) {\r\n    _inherits(ReactSiema, _Component);\r\n\r\n    function ReactSiema(props) {\r\n        _classCallCheck(this, ReactSiema);\r\n\r\n        var _this = _possibleConstructorReturn(this, (ReactSiema.__proto__ || Object.getPrototypeOf(ReactSiema)).call(this));\r\n\r\n        _this.events = ['onTouchStart', 'onTouchEnd', 'onTouchMove', 'onMouseDown', 'onMouseUp', 'onMouseLeave', 'onMouseMove'];\r\n\r\n        _this.config = Object.assign({}, {\r\n            resizeDebounce: 250,\r\n            duration: 200,\r\n            easing: 'ease-out',\r\n            perPage: 1,\r\n            startIndex: 0,\r\n            draggable: true,\r\n            threshold: 20,\r\n            loop: false\r\n        }, props);\r\n\r\n        _this.events.forEach(function (handler) {\r\n            _this[handler] = _this[handler].bind(_this);\r\n        });\r\n        return _this;\r\n    }\r\n\r\n    _createClass(ReactSiema, [{\r\n        key: 'componentDidMount',\r\n        value: function componentDidMount() {\r\n            var _this2 = this;\r\n\r\n            this.config.selector = this.selector;\r\n            this.currentSlide = this.config.startIndex;\r\n\r\n            this.init();\r\n\r\n            this.onResize = (0, _debounce2.default)(function () {\r\n                _this2.resize();\r\n                _this2.slideToCurrent();\r\n            }, this.config.resizeDebounce);\r\n\r\n            window.addEventListener('resize', this.onResize);\r\n\r\n            if (this.config.draggable) {\r\n                this.pointerDown = false;\r\n                this.drag = {\r\n                    start: 0,\r\n                    end: 0\r\n                };\r\n            }\r\n        }\r\n    }, {\r\n        key: 'componentDidUpdate',\r\n        value: function componentDidUpdate() {\r\n            this.init();\r\n        }\r\n    }, {\r\n        key: 'componentWillUnmount',\r\n        value: function componentWillUnmount() {\r\n            window.removeEventListener(\"resize\", this.onResize);\r\n        }\r\n    }, {\r\n        key: 'init',\r\n        value: function init() {\r\n            this.setSelectorWidth();\r\n            this.setInnerElements();\r\n            this.resolveSlidesNumber();\r\n\r\n            this.setStyle(this.sliderFrame, {\r\n                width: this.selectorWidth / this.perPage * this.innerElements.length + 'px',\r\n                webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\r\n                transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\r\n            });\r\n\r\n            for (var i = 0; i < this.innerElements.length; i++) {\r\n                this.setStyle(this.innerElements[i], {\r\n                    width: 100 / this.innerElements.length + '%'\r\n                });\r\n            }\r\n\r\n            this.slideToCurrent();\r\n        }\r\n    }, {\r\n        key: 'setSelectorWidth',\r\n        value: function setSelectorWidth() {\r\n            this.selectorWidth = this.selector.getBoundingClientRect().width;\r\n        }\r\n    }, {\r\n        key: 'setInnerElements',\r\n        value: function setInnerElements() {\r\n            this.innerElements = [].slice.call(this.sliderFrame.children);\r\n        }\r\n    }, {\r\n        key: 'resolveSlidesNumber',\r\n        value: function resolveSlidesNumber() {\r\n            if (typeof this.config.perPage === 'number') {\r\n                this.perPage = this.config.perPage;\r\n            } else if (_typeof(this.config.perPage) === 'object') {\r\n                this.perPage = 1;\r\n                for (var viewport in this.config.perPage) {\r\n                    if (window.innerWidth > viewport) {\r\n                        this.perPage = this.config.perPage[viewport];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: 'prev',\r\n        value: function prev() {\r\n            if (this.currentSlide === 0 && this.config.loop) {\r\n                this.currentSlide = this.innerElements.length - this.perPage;\r\n            } else {\r\n                this.currentSlide = Math.max(this.currentSlide - 1, 0);\r\n            }\r\n            this.slideToCurrent();\r\n        }\r\n    }, {\r\n        key: 'next',\r\n        value: function next() {\r\n            if (this.currentSlide === this.innerElements.length - this.perPage && this.config.loop) {\r\n                this.currentSlide = 0;\r\n            } else {\r\n                this.currentSlide = Math.min(this.currentSlide + 1, this.innerElements.length - this.perPage);\r\n            }\r\n            this.slideToCurrent();\r\n        }\r\n    },{\r\n        key: 'getPerPage',\r\n        value: function getPerPage() {\r\n            return this.perPage;\r\n        }\r\n    }, {\r\n        key: 'goTo',\r\n        value: function goTo(index) {\r\n            this.currentSlide = Math.min(Math.max(index, 0), this.innerElements.length - 1);\r\n            this.slideToCurrent();\r\n        }\r\n    }, {\r\n        key: 'slideToCurrent',\r\n        value: function slideToCurrent() {\r\n            this.sliderFrame.style[_transformProperty2.default] = 'translate3d(-' + this.currentSlide * (this.selectorWidth / this.perPage) + 'px, 0, 0)';\r\n        }\r\n    }, {\r\n        key: 'updateAfterDrag',\r\n        value: function updateAfterDrag() {\r\n            var movement = this.drag.end - this.drag.start;\r\n            if (movement > 0 && Math.abs(movement) > this.config.threshold) {\r\n                this.prev();\r\n            } else if (movement < 0 && Math.abs(movement) > this.config.threshold) {\r\n                this.next();\r\n            }\r\n            this.slideToCurrent();\r\n\r\n            this.props.updateAfterDrag();\r\n        }\r\n    }, {\r\n        key: 'resize',\r\n        value: function resize() {\r\n            this.resolveSlidesNumber();\r\n\r\n            this.selectorWidth = this.selector.getBoundingClientRect().width;\r\n            this.setStyle(this.sliderFrame, {\r\n                width: this.selectorWidth / this.perPage * this.innerElements.length + 'px'\r\n            });\r\n\r\n            this.props.onResize(this.perPage);\r\n\r\n        }\r\n    }, {\r\n        key: 'clearDrag',\r\n        value: function clearDrag() {\r\n            this.drag = {\r\n                start: 0,\r\n                end: 0\r\n            };\r\n        }\r\n    }, {\r\n        key: 'setStyle',\r\n        value: function setStyle(target, styles) {\r\n            Object.keys(styles).forEach(function (attribute) {\r\n                target.style[attribute] = styles[attribute];\r\n            });\r\n        }\r\n    }, {\r\n        key: 'onTouchStart',\r\n        value: function onTouchStart(e) {\r\n            e.stopPropagation();\r\n            this.pointerDown = true;\r\n            this.drag.start = e.touches[0].pageX;\r\n        }\r\n    }, {\r\n        key: 'onTouchEnd',\r\n        value: function onTouchEnd(e) {\r\n            e.stopPropagation();\r\n            this.pointerDown = false;\r\n            this.setStyle(this.sliderFrame, {\r\n                webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\r\n                transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\r\n            });\r\n            if (this.drag.end) {\r\n                this.updateAfterDrag();\r\n            }\r\n            this.clearDrag();\r\n        }\r\n    }, {\r\n        key: 'onTouchMove',\r\n        value: function onTouchMove(e) {\r\n            e.stopPropagation();\r\n            if (this.pointerDown) {\r\n                this.drag.end = e.touches[0].pageX;\r\n\r\n                this.setStyle(this.sliderFrame, _defineProperty({\r\n                    webkitTransition: 'all 0ms ' + this.config.easing,\r\n                    transition: 'all 0ms ' + this.config.easing\r\n                }, _transformProperty2.default, 'translate3d(' + (this.currentSlide * (this.selectorWidth / this.perPage) + (this.drag.start - this.drag.end)) * -1 + 'px, 0, 0)'));\r\n            }\r\n        }\r\n    }, {\r\n        key: 'onMouseDown',\r\n        value: function onMouseDown(e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.pointerDown = true;\r\n            this.drag.start = e.pageX;\r\n        }\r\n    }, {\r\n        key: 'onMouseUp',\r\n        value: function onMouseUp(e) {\r\n            e.stopPropagation();\r\n            this.pointerDown = false;\r\n            this.setStyle(this.sliderFrame, {\r\n                cursor: '-webkit-grab',\r\n                webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\r\n                transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\r\n            });\r\n            if (this.drag.end) {\r\n                this.updateAfterDrag();\r\n            }\r\n            this.clearDrag();\r\n        }\r\n    }, {\r\n        key: 'onMouseMove',\r\n        value: function onMouseMove(e) {\r\n            e.preventDefault();\r\n            if (this.pointerDown) {\r\n                this.drag.end = e.pageX;\r\n                this.setStyle(this.sliderFrame, _defineProperty({\r\n                    cursor: '-webkit-grabbing',\r\n                    webkitTransition: 'all 0ms ' + this.config.easing,\r\n                    transition: 'all 0ms ' + this.config.easing\r\n                }, _transformProperty2.default, 'translate3d(' + (this.currentSlide * (this.selectorWidth / this.perPage) + (this.drag.start - this.drag.end)) * -1 + 'px, 0, 0)'));\r\n            }\r\n        }\r\n    }, {\r\n        key: 'onMouseLeave',\r\n        value: function onMouseLeave(e) {\r\n            if (this.pointerDown) {\r\n                this.pointerDown = false;\r\n                this.drag.end = e.pageX;\r\n                this.setStyle(this.sliderFrame, {\r\n                    cursor: '-webkit-grab',\r\n                    webkitTransition: 'all ' + this.config.duration + 'ms ' + this.config.easing,\r\n                    transition: 'all ' + this.config.duration + 'ms ' + this.config.easing\r\n                });\r\n                this.updateAfterDrag();\r\n                this.clearDrag();\r\n            }\r\n        }\r\n    }, {\r\n        key: 'render',\r\n        value: function render() {\r\n            var _this3 = this;\r\n\r\n            return _react2.default.createElement(\r\n                'div',\r\n                Object.assign({\r\n                    ref: function ref(selector) {\r\n                        return _this3.selector = selector;\r\n                    },\r\n                    className: \"react-siema-container\"\r\n                }, this.events.reduce(function (props, event) {\r\n                    return Object.assign({}, props, _defineProperty({}, event, _this3[event]));\r\n                }, {})),\r\n                _react2.default.createElement(\r\n                    'div',\r\n                    { ref: function ref(sliderFrame) {\r\n                            return _this3.sliderFrame = sliderFrame;\r\n                        } },\r\n                    _react2.default.Children.map(this.props.children, function (children, index) {\r\n                        return _react2.default.cloneElement(children, {\r\n                            key: index,\r\n                            style: { float: 'left' }\r\n                        });\r\n                    })\r\n                )\r\n            );\r\n        }\r\n    }]);\r\n\r\n    return ReactSiema;\r\n}(_react.Component);\r\n\r\nReactSiema.propTypes = {\r\n    resizeDebounce: _proptypes.number,\r\n    duration: _proptypes.number,\r\n    easing: _proptypes.string,\r\n    perPage: _proptypes.object,\r\n    startIndex: _proptypes.number,\r\n    draggable: _proptypes.number,\r\n    threshold: _proptypes.number,\r\n    loop: _proptypes.bool,\r\n    children: _proptypes.oneOfType([_proptypes.element, _proptypes.arrayOf(_proptypes.element)])\r\n};\r\nexport default  ReactSiema;\r\n"]},"metadata":{},"sourceType":"module"}