{"ast":null,"code":"import _slicedToArray from \"/home/angelito/Devs/appolus-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/angelito/Devs/appolus-master/src/components/Dashboard/users/reloadUsers.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Row } from 'reactstrap';\nimport { Colxx } from '../../../components/CustomBootstrap';\nimport { withSwalInstance } from 'sweetalert2-react';\nimport Swal from 'sweetalert2'; // import AddUser from '../../../routes/dashboards/users/add'\n// Avatars\n\nimport imgUserDefaultMasculine from '../../../assets/img/users/user4.jpg';\nconst iconSearch = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" className=\"kt-svg-icon\"><g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><rect id=\"bound\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect><path d=\"M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z\" id=\"Path-2\" fill=\"#000000\" fill-rule=\"nonzero\" opacity=\"0.3\"></path><path d=\"M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z\" id=\"Path\" fill=\"#000000\" fill-rule=\"nonzero\"></path></g></svg>';\n\nconst ListUsers = ({\n  users,\n  loading,\n  increaseUsersPerPageInSearch,\n  setUsers,\n  editUser\n}) => {\n  // ===============================================================\n  // Hooks useState\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        search = _useState2[0],\n        setSearch = _useState2[1];\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    });\n  }\n\n  const onChange = e => {\n    if (loading) {\n      return React.createElement(\"div\", {\n        class: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      });\n    }\n\n    increaseUsersPerPageInSearch(1000); // increase users per page for search all\n\n    setSearch(e.target.value);\n  }; // Delete User by ID\n\n\n  const deleteUser = id => {\n    withSwalInstance(Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.value === true) {\n        // const fetchUsers = async () => {\n        const deleteFetchedUser = async () => {\n          // const res = await axios.get('/api/users/list')\n          await fetch(\"/api/users/delete/\".concat(id), {\n            method: 'DELETE',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n          }).then(res => res.json()).then(async data => {\n            const res = await axios.get('/api/users/list');\n            Swal.fire({\n              position: 'top-end',\n              title: 'Deleted!',\n              text: 'The user has been deleted.',\n              type: 'success',\n              showConfirmButton: false,\n              timer: 4500,\n              // backdrop: false,\n              toast: true\n            });\n            setUsers(res.data.users);\n          });\n        };\n\n        deleteFetchedUser();\n      }\n    }));\n  };\n\n  const handlerEditUser = (id, name, username, email, roles, bio) => {\n    return editUser(id, name, username, email, roles, bio);\n  };\n\n  const filteredUsers = users.filter(user => {\n    return user.name.toLowerCase().indexOf(search.toString().toLowerCase()) !== -1;\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Colxx, {\n    xxs: \"12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"alert alert-light alert-elevate fade show\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"alert-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"flaticon-warning kt-font-brand\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"alert-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"AAAMetronic extends \", React.createElement(\"code\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Bootstrap Alert\"), \" component with a variety of options to provide uniquely looking Alert component that matches the Metronic's design standards.\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), \"For more info please visit the plugin's the component's \", React.createElement(\"a\", {\n    className: \"kt-link kt-font-bold\",\n    href: \"https://getbootstrap.com/docs/4.3/components/alerts/\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Documentation\"), \".\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    className: \"kt-margin-l-0\",\n    id: \"kt_subheader_search_form\",\n    style: {\n      width: \"250px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-input-icon kt-input-icon--right kt-subheader__search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: onChange,\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Search...\",\n    id: \"generalSearch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"kt-input-icon__icon kt-input-icon__icon--right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: iconSearch\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }))))))))), filteredUsers.map(user => React.createElement(\"div\", {\n    className: \"kt-portlet\",\n    key: user._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-portlet__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget kt-widget--user-profile-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__media kt-hidden-\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: user.avatar ? user.avatar : imgUserDefaultMasculine,\n    alt: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"kt-widget__pic kt-widget__pic--danger kt-font-danger kt-font-boldest kt-font-light kt-hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"JM\"), React.createElement(\"div\", {\n    className: \"kt-widget__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/\",\n    className: \"kt-widget__username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, user.name, React.createElement(\"i\", {\n    className: \"flaticon2-correct kt-font-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"kt-widget__action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-label-success btn-sm btn-upper\",\n    onClick: () => handlerEditUser(user._id, user.name, user.username, user.email, user.roles, user.bio),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Edit\"), \"\\xA0\", React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-danger btn-sm btn-upper\",\n    onClick: () => deleteUser(user._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Delete\"))), React.createElement(\"div\", {\n    className: \"kt-widget__subhead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"flaticon2-new-email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), user.email), React.createElement(\"a\", {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"flaticon2-calendar-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), \"PR Manager \"), React.createElement(\"a\", {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"flaticon2-placeholder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), user.address)), React.createElement(\"div\", {\n    className: \"kt-widget__info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__desc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"I distinguish three main text objektive could be merely to inform people.\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }), \"A second could be persuade people.You want people to bay objective\"), React.createElement(\"div\", {\n    className: \"kt-widget__progress\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"kt-widget__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Progress\"), React.createElement(\"div\", {\n    className: \"progress\",\n    style: {\n      height: '5px',\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"progress-bar kt-bg-success\",\n    role: \"progressbar\",\n    style: {\n      width: \"65%\"\n    },\n    \"aria-valuenow\": \"65\",\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"kt-widget__stats\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"78%\"))))))))));\n}; // ListUsers.propsType = {\n//   setUsers: PropTypes.func.isRequired\n// }\n//\n// const mapStateToProps = state => {\n//   const users = state.users\n//   return { users}\n// }\n\n\nexport default connect()(ListUsers);","map":{"version":3,"sources":["/home/angelito/Devs/appolus-master/src/components/Dashboard/users/reloadUsers.js"],"names":["React","useState","useEffect","axios","PropTypes","connect","Row","Colxx","withSwalInstance","Swal","imgUserDefaultMasculine","iconSearch","ListUsers","users","loading","increaseUsersPerPageInSearch","setUsers","editUser","search","setSearch","onChange","e","target","value","deleteUser","id","fire","title","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","deleteFetchedUser","fetch","method","headers","res","json","data","get","position","showConfirmButton","timer","toast","handlerEditUser","name","username","email","roles","bio","filteredUsers","filter","user","toLowerCase","indexOf","toString","width","__html","map","_id","avatar","address","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport PropTypes from \"prop-types\"\nimport { connect } from \"react-redux\"\nimport {\n  Row\n} from 'reactstrap'\nimport { Colxx } from '../../../components/CustomBootstrap'\nimport { withSwalInstance } from 'sweetalert2-react'\nimport Swal from 'sweetalert2'\n\n// import AddUser from '../../../routes/dashboards/users/add'\n\n// Avatars\nimport imgUserDefaultMasculine from '../../../assets/img/users/user4.jpg'\n\nconst iconSearch = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" className=\"kt-svg-icon\"><g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><rect id=\"bound\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect><path d=\"M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z\" id=\"Path-2\" fill=\"#000000\" fill-rule=\"nonzero\" opacity=\"0.3\"></path><path d=\"M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z\" id=\"Path\" fill=\"#000000\" fill-rule=\"nonzero\"></path></g></svg>'\n\nconst ListUsers = ({users, loading, increaseUsersPerPageInSearch, setUsers, editUser}) => {\n  // ===============================================================\n  // Hooks useState\n  // ===============================================================\n  const [search, setSearch] = useState(\"\")\n\n\n  if (loading) {\n    return <div className=\"loading\"></div>\n  }\n\n  const onChange = e => {\n    if (loading) {\n      return <div class=\"loading\"></div>\n    }\n    increaseUsersPerPageInSearch(1000) // increase users per page for search all\n    setSearch(e.target.value)\n  }\n\n\n  // Delete User by ID\n  const deleteUser = id => {\n    withSwalInstance(Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n      if (result.value === true) {\n      // const fetchUsers = async () => {\n      const deleteFetchedUser = async () => {\n      // const res = await axios.get('/api/users/list')\n\n        await fetch(`/api/users/delete/${id}`, {\n          method: 'DELETE',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        })\n        .then(res => res.json())\n        .then(async data => {\n          const res = await axios.get('/api/users/list')\n\n              Swal.fire({\n                position: 'top-end',\n                title: 'Deleted!',\n                text: 'The user has been deleted.',\n                type: 'success',\n                showConfirmButton: false,\n                timer: 4500,\n                // backdrop: false,\n                toast: true\n              })\n\n              setUsers(res.data.users)\n\n            }\n          )\n        }\n        deleteFetchedUser()\n      }\n    }))\n  }\n\n  const handlerEditUser = (id, name, username, email, roles, bio) => {\n    return editUser(id, name, username, email, roles, bio)\n  }\n\n\n  const filteredUsers = users.filter(user => {\n      return user.name.toLowerCase().indexOf(search.toString().toLowerCase()) !== -1\n  })\n\n\n  return (\n    <div>\n      <Row>\n        <Colxx xxs=\"12\">\n          <div className=\"alert alert-light alert-elevate fade show\" role=\"alert\">\n            <div className=\"alert-icon\"><i className=\"flaticon-warning kt-font-brand\"></i></div>\n            <div className=\"alert-text\">\n              AAAMetronic extends <code>Bootstrap Alert</code> component with a variety of options to provide uniquely looking Alert component that matches the Metronic's design standards.\n              <br/>\n              For more info please visit the plugin's the component's <a className=\"kt-link kt-font-bold\" href=\"https://getbootstrap.com/docs/4.3/components/alerts/\" target=\"_blank\">Documentation</a>.<br/><br/>\n              <form className=\"kt-margin-l-0\" id=\"kt_subheader_search_form\" style={{ width: \"250px\" }}>\n                <div className=\"kt-input-icon kt-input-icon--right kt-subheader__search\">\n                  <input onChange={onChange} type=\"text\" className=\"form-control\" placeholder=\"Search...\" id=\"generalSearch\" />\n                  <span className=\"kt-input-icon__icon kt-input-icon__icon--right\">\n                    <span>\n                      <div dangerouslySetInnerHTML={{ __html: iconSearch }} />\n                    </span>\n                  </span>\n                </div>\n              </form>\n            </div>\n          </div>\n        </Colxx>\n      </Row>\n      {filteredUsers.map(user => (\n        <div className=\"kt-portlet\" key={user._id}>\n          <div className=\"kt-portlet__body\">\n            <div className=\"kt-widget kt-widget--user-profile-3\">\n              <div className=\"kt-widget__top\">\n                <div className=\"kt-widget__media kt-hidden-\">\n                  <img src={user.avatar ? user.avatar : imgUserDefaultMasculine } alt=\"avatar\" />\n                </div>\n                <div className=\"kt-widget__pic kt-widget__pic--danger kt-font-danger kt-font-boldest kt-font-light kt-hidden\">\n                  JM\n                </div>\n                <div className=\"kt-widget__content\">\n                  <div className=\"kt-widget__head\">\n                    <a href=\"/\" className=\"kt-widget__username\">\n                      {user.name}\n                      <i className=\"flaticon2-correct kt-font-success\"></i>\n                    </a>\n                    <div className=\"kt-widget__action\">\n                      <button type=\"button\" className=\"btn btn-label-success btn-sm btn-upper\" onClick={() => handlerEditUser(user._id, user.name, user.username, user.email, user.roles, user.bio)}>Edit</button>&nbsp;\n                      <button type=\"button\" className=\"btn btn-danger btn-sm btn-upper\" onClick={() => deleteUser(user._id)}>Delete</button>\n                    </div>\n                  </div>\n                  <div className=\"kt-widget__subhead\">\n                    <a href=\"/\"><i className=\"flaticon2-new-email\"></i>{user.email}</a>\n                    <a href=\"/\"><i className=\"flaticon2-calendar-3\"></i>PR Manager </a>\n                    <a href=\"/\"><i className=\"flaticon2-placeholder\"></i>{user.address}</a>\n                  </div>\n                  <div className=\"kt-widget__info\">\n                    <div className=\"kt-widget__desc\">\n                      I distinguish three main text objektive could be merely to inform people.<br/>\n                      A second could be persuade people.You want people to bay objective\n                    </div>\n                    <div className=\"kt-widget__progress\">\n                      <div className=\"kt-widget__text\">\n                        Progress\n                      </div>\n                      <div className=\"progress\" style={{ height: '5px', width: '100%'}}>\n                        <div className=\"progress-bar kt-bg-success\" role=\"progressbar\" style={{ width: \"65%\"}} aria-valuenow=\"65\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                      <div className=\"kt-widget__stats\">\n                        78%\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n       ))}\n      </div>\n    )\n  }\n\n  // ListUsers.propsType = {\n  //   setUsers: PropTypes.func.isRequired\n  // }\n  //\n  // const mapStateToProps = state => {\n  //   const users = state.users\n  //   return { users}\n  // }\n\nexport default connect(\n  // mapStateToProps\n  // ,{ListUsers}\n)(ListUsers)\n"]},"metadata":{},"sourceType":"module"}